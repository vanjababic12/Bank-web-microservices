<div>
    <!-- Kontejner za Pretragu, Sortiranje i Dropdown -->
    <div class="search-sort-container">
        <!-- Pretraga -->
        <input type="text" pInputText placeholder="Search..." (input)="searchTerm=$event.target.value; search()">

        <!-- Dropdown meni za izbor polja za sortiranje -->
        <p-dropdown [options]="sortOptions" [(ngModel)]="sortField" placeholder="Sortiraj po"
            (onChange)="sort()"></p-dropdown>

        <!-- Ikonice za uzlazni i silazni redosled -->
        <button pButton (click)="toggleSortOrder()">
            <i class="pi" [ngClass]="{'pi-sort-amount-up-alt': ascending, 'pi-sort-amount-down': !ascending}"></i>
        </button>
        <button *ngIf="role == 'ADMIN'" [routerLink]="'/branches/create-branch'" pButton pRipple type="button"
        icon="pi pi-plus" label="Create Branch Type" class="p-button-outlined p-button-info"></button>

        <!-- Dugme za podnoÅ¡enje zahteva -->
        <button *ngIf="role == 'USER'" (click)="viewAppointments()" pButton pRipple type="button"
        label="Make An Appointments" class="p-button-outlined p-button-info"></button>
    </div>

    <p-confirmDialog></p-confirmDialog>

    <!-- Lista Branches prikazana kao kartice -->
    <div class="branch-grid">
        <div *ngFor="let branch of displayedBranches" class="branch-card">
            <p-card>
                <div class="branch-details">
                    <h3>{{ branch.name }}</h3>
                    <p>Address: {{ branch.address }}</p>
                    <p>Phone: {{ branch.phoneNumber }}</p>
                    <p>Open: {{ branch.openingTime.slice(0, -3) }} - {{ branch.closingTime.slice(0, -3) }}</p>

                    <div *ngIf="role === 'ADMIN'" class="card-actions">
                        <button pButton type="button" icon="pi pi-trash" class="p-button-danger" label="Delete"
                            (click)="confirmDelete(branch.id)"></button>
                    </div>
                </div>
            </p-card>
        </div>
    </div>


    <!-- Paginator -->
    <p-paginator [rows]="rowsPerPage" [totalRecords]="totalRecords" (onPageChange)="onPageChange($event)"></p-paginator>
</div>